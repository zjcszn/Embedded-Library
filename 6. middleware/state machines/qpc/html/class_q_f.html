<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QP/C: QF Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="ql-preview.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="ql-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectlogo">
    <a href="https://www.state-machine.com" title="Quantum Leaps"><img alt="Logo" src="logo_ql.png"/></a>
  </div>
   <div id="projectname">
    QP/C
    &nbsp;<span id="projectnumber">7.3.4</span>
   </div>
   <div id="projectbrief">Real-Time Embedded Framework</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_q_f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_q_f-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">QF Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> Active Object Framework (<a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> namespace emulated as a "class" in C)
 <a href="class_q_f.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a9119e0d914aae132c61e96fc39dcfe24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#a9119e0d914aae132c61e96fc39dcfe24">QF_init</a> (void)</td></tr>
<tr class="separator:a9119e0d914aae132c61e96fc39dcfe24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3a4ff00a902f8d94c7df8c36e30e866"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#ac3a4ff00a902f8d94c7df8c36e30e866">QF_stop</a> (void)</td></tr>
<tr class="separator:ac3a4ff00a902f8d94c7df8c36e30e866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad68a4084638b55e0f8b59d87956cdd7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qp_8h.html#a13c47ad785892c3674231b72fe20dbd9">int_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#ad68a4084638b55e0f8b59d87956cdd7d">QF_run</a> (void)</td></tr>
<tr class="separator:ad68a4084638b55e0f8b59d87956cdd7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff8bff530c64d1111dedfc51279684dd"><td class="memItemLeft" align="right" valign="top">uint_fast16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#aff8bff530c64d1111dedfc51279684dd">QF_getQueueMin</a> (uint_fast8_t const prio)</td></tr>
<tr class="separator:aff8bff530c64d1111dedfc51279684dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53724206a61ed5b0e49164d7fa542854"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#a53724206a61ed5b0e49164d7fa542854">QF_onStartup</a> (void)</td></tr>
<tr class="separator:a53724206a61ed5b0e49164d7fa542854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a7e2a062948928a1011ec6e13d4ea9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#ab4a7e2a062948928a1011ec6e13d4ea9">QF_onCleanup</a> (void)</td></tr>
<tr class="separator:ab4a7e2a062948928a1011ec6e13d4ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b195207ac34c5a94e52b8eedaaa759"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#a70b195207ac34c5a94e52b8eedaaa759">QF_onContextSw</a> (<a class="el" href="struct_q_active.html">QActive</a> *prev, <a class="el" href="struct_q_active.html">QActive</a> *next)</td></tr>
<tr class="separator:a70b195207ac34c5a94e52b8eedaaa759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64871d84d994a8578a14ae57d812f09c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#a64871d84d994a8578a14ae57d812f09c">QF_poolInit</a> (void *const poolSto, uint_fast32_t const poolSize, uint_fast16_t const evtSize)</td></tr>
<tr class="separator:a64871d84d994a8578a14ae57d812f09c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa220fe133dbef951443f154952fbb9a9"><td class="memItemLeft" align="right" valign="top">uint_fast16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#aa220fe133dbef951443f154952fbb9a9">QF_poolGetMaxBlockSize</a> (void)</td></tr>
<tr class="separator:aa220fe133dbef951443f154952fbb9a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad05af4de934cec76de1646f769de50b1"><td class="memItemLeft" align="right" valign="top">uint_fast16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#ad05af4de934cec76de1646f769de50b1">QF_getPoolMin</a> (uint_fast8_t const poolNum)</td></tr>
<tr class="separator:ad05af4de934cec76de1646f769de50b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abecfdda560a1daca1a74ebf23debc5b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#abecfdda560a1daca1a74ebf23debc5b7">QF_gc</a> (<a class="el" href="struct_q_evt.html">QEvt</a> const *const e)</td></tr>
<tr class="separator:abecfdda560a1daca1a74ebf23debc5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c7bde112021e07c5777bc3072ed5d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#ad7c7bde112021e07c5777bc3072ed5d9">QF_gcFromISR</a> (<a class="el" href="struct_q_evt.html">QEvt</a> const *const e)</td></tr>
<tr class="separator:ad7c7bde112021e07c5777bc3072ed5d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa08f853b2e487e1c97ea3c4b6ec6ded2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#aa08f853b2e487e1c97ea3c4b6ec6ded2">QF_psInit</a> (<a class="el" href="struct_q_subscr_list.html">QSubscrList</a> *const subscrSto, <a class="el" href="qp_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a> const maxSignal)</td></tr>
<tr class="separator:aa08f853b2e487e1c97ea3c4b6ec6ded2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:adfc250341292f20f9450877bbd88653e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_q_evt.html">QEvt</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#adfc250341292f20f9450877bbd88653e">QF_newX_</a> (uint_fast16_t const evtSize, uint_fast16_t const margin, <a class="el" href="qp_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a> const sig)</td></tr>
<tr class="separator:adfc250341292f20f9450877bbd88653e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a210f17db6dcfb7b5f78c3acb283bb516"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_q_evt.html">QEvt</a> const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#a210f17db6dcfb7b5f78c3acb283bb516">QF_newRef_</a> (<a class="el" href="struct_q_evt.html">QEvt</a> const *const e, void const *const evtRef)</td></tr>
<tr class="separator:a210f17db6dcfb7b5f78c3acb283bb516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b994d6c7bd4ae8bbbdb420029c26071"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#a3b994d6c7bd4ae8bbbdb420029c26071">QF_deleteRef_</a> (void const *const evtRef)</td></tr>
<tr class="separator:a3b994d6c7bd4ae8bbbdb420029c26071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5532479081363d70dec020a93e84783b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#a5532479081363d70dec020a93e84783b">QF_bzero_</a> (void *const start, uint_fast16_t const len)</td></tr>
<tr class="separator:a5532479081363d70dec020a93e84783b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a77a1eaf2f9dc534742a4f3c9e5afa7e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_q_f___attr.html">QF_Attr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_q_f.html#a77a1eaf2f9dc534742a4f3c9e5afa7e0">QF_priv_</a></td></tr>
<tr class="separator:a77a1eaf2f9dc534742a4f3c9e5afa7e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> Active Object Framework (<a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> namespace emulated as a "class" in C) </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a9119e0d914aae132c61e96fc39dcfe24" name="a9119e0d914aae132c61e96fc39dcfe24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9119e0d914aae132c61e96fc39dcfe24">&#9670;&#160;</a></span>QF_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> initialization</p>
<dl class="section user"><dt>Description</dt><dd>Initializes <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> and must be called exactly once before any other <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> function. Typically, <a class="el" href="class_q_f.html#a9119e0d914aae132c61e96fc39dcfe24">QF_init()</a> is called from main() even before initializing the Board Support Package (BSP).</dd></dl>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="class_q_f.html#a9119e0d914aae132c61e96fc39dcfe24">QF_init()</a> clears the internal <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> variables, so that the framework can start correctly even if the startup code fails to clear the uninitialized data (as is required by the C Standard).</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd><ul>
<li><a class="el" href="csc_dev.html#DVR-QP-MC4-R11_08">DVR-QP-MC4-R11_08</a> </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="qutest_8c_source.html#l00172">172</a> of file <a class="el" href="qutest_8c_source.html">qutest.c</a>.</p>

</div>
</div>
<a id="ac3a4ff00a902f8d94c7df8c36e30e866" name="ac3a4ff00a902f8d94c7df8c36e30e866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3a4ff00a902f8d94c7df8c36e30e866">&#9670;&#160;</a></span>QF_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoked by the application layer to stop the <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> framework and return control to the OS/Kernel (used in some <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> ports).</p>
<dl class="section user"><dt>Description</dt><dd>This function stops the <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> application. After calling this function, <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> attempts to gracefully stop the application. This graceful shutdown might take some time to complete. The typical use of this function is for terminating the <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> application to return back to the operating system or for handling fatal errors that require shutting down (and possibly re-setting) the system.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>After calling <a class="el" href="class_q_f.html#ac3a4ff00a902f8d94c7df8c36e30e866">QF_stop()</a> the application must terminate and cannot continue. In particular, <a class="el" href="class_q_f.html#ac3a4ff00a902f8d94c7df8c36e30e866">QF_stop()</a> is <b>not</b> intended to be followed by a call to <a class="el" href="class_q_f.html#a9119e0d914aae132c61e96fc39dcfe24">QF_init()</a> to "resurrect" the application. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qutest_8c_source.html#l00186">186</a> of file <a class="el" href="qutest_8c_source.html">qutest.c</a>.</p>

</div>
</div>
<a id="ad68a4084638b55e0f8b59d87956cdd7d" name="ad68a4084638b55e0f8b59d87956cdd7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad68a4084638b55e0f8b59d87956cdd7d">&#9670;&#160;</a></span>QF_run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Transfers control to <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> to run the application.</p>
<dl class="section user"><dt>Description</dt><dd><a class="el" href="class_q_f.html#ad68a4084638b55e0f8b59d87956cdd7d">QF_run()</a> is typically called from your startup code after you initialize the <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> and start at least one active object with <a class="el" href="qp_8h.html#a4cdbac20a04929fedd879615f0ddda00">QACTIVE_START()</a>.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Typically in embedded systems <a class="el" href="class_q_f.html#ad68a4084638b55e0f8b59d87956cdd7d">QF_run()</a> does not return, but in case <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> runs on top of a General-Purpose OS (GPOS), <a class="el" href="class_q_f.html#ad68a4084638b55e0f8b59d87956cdd7d">QF_run()</a> returns the error status with value 0 representing success. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qutest_8c_source.html#l00191">191</a> of file <a class="el" href="qutest_8c_source.html">qutest.c</a>.</p>

</div>
</div>
<a id="aff8bff530c64d1111dedfc51279684dd" name="aff8bff530c64d1111dedfc51279684dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff8bff530c64d1111dedfc51279684dd">&#9670;&#160;</a></span>QF_getQueueMin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_getQueueMin </td>
          <td>(</td>
          <td class="paramtype">uint_fast8_t const&#160;</td>
          <td class="paramname"><em>prio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function returns the minimum of free entries of the given event queue.</p>
<dl class="section user"><dt>Description</dt><dd>Queries the minimum of free ever present in the given event queue of an active object with priority <code>prio</code>, since the active object was started.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is available only when the native <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> event queue implementation is used. Requesting the queue minimum of an unused priority level raises an assertion in the <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a>. (A priority level becomes used in <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> after the call to the QActive_register_() function.)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">prio</td><td>Priority of the active object, whose queue is queried</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The minimum of free ever present in the given event queue of an active object with priority <code>prio</code>, since the active object was started. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qf__actq_8c_source.html#l00354">354</a> of file <a class="el" href="qf__actq_8c_source.html">qf_actq.c</a>.</p>

</div>
</div>
<a id="a53724206a61ed5b0e49164d7fa542854" name="a53724206a61ed5b0e49164d7fa542854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53724206a61ed5b0e49164d7fa542854">&#9670;&#160;</a></span>QF_onStartup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_onStartup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Startup <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> callback.</p>
<dl class="section user"><dt>Description</dt><dd>The purpose of the <a class="el" href="class_q_f.html#a53724206a61ed5b0e49164d7fa542854">QF_onStartup()</a> callback is to configure and enable hardware interrupts. The callback is invoked from <a class="el" href="class_q_f.html#ad68a4084638b55e0f8b59d87956cdd7d">QF_run()</a>, right before starting the underlying real-time kernel. By that time, the application is considered ready to receive and service interrupts.</dd></dl>
<p>This function is application-specific and is not implemented in <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a>, but rather in the Board Support Package (BSP) for the given application. </p>

</div>
</div>
<a id="ab4a7e2a062948928a1011ec6e13d4ea9" name="ab4a7e2a062948928a1011ec6e13d4ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4a7e2a062948928a1011ec6e13d4ea9">&#9670;&#160;</a></span>QF_onCleanup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_onCleanup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Cleanup <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> callback.</p>
<dl class="section user"><dt>Description</dt><dd><a class="el" href="class_q_f.html#ab4a7e2a062948928a1011ec6e13d4ea9">QF_onCleanup()</a> is called in some <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> ports before <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> returns to the underlying real-time kernel or operating system.</dd></dl>
<p>This function is strongly platform-specific and is not implemented in the <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a>, but either in the <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> port or in the Board Support Package (BSP) for the given application. Some <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> ports might not require implementing <a class="el" href="class_q_f.html#ab4a7e2a062948928a1011ec6e13d4ea9">QF_onCleanup()</a> at all, because many embedded applications don't have anything to exit to. </p>

</div>
</div>
<a id="a70b195207ac34c5a94e52b8eedaaa759" name="a70b195207ac34c5a94e52b8eedaaa759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70b195207ac34c5a94e52b8eedaaa759">&#9670;&#160;</a></span>QF_onContextSw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_onContextSw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_active.html">QActive</a> *&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_q_active.html">QActive</a> *&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> context switch callback used in built-in kernels (<a class="el" href="struct_q_v.html" title="QV non-preemptive, cooperative kernel (QV namespace emulated as a &quot;class&quot; in C)">QV</a>, <a class="el" href="struct_q_k.html" title="QK preemptive non-blocking kernel (QK namespace emulated as a &quot;class&quot; in C)">QK</a>, <a class="el" href="struct_q_x_k.html" title="QXK dual-mode kernel (QXK namespace emulated as a &quot;class&quot; in C)">QXK</a>)</p>
<dl class="section user"><dt>Description</dt><dd>This callback function provides a mechanism to perform additional custom operations when one of the built-in kernels switches context from one thread to another.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">prev</td><td>pointer to the previous thread (active object) (prev==0 means that <code>prev</code> was the idle loop) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">next</td><td>pointer to the next thread (active object) (next==0) means that <code>next</code> is the idle loop)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd><a class="el" href="class_q_f.html#a70b195207ac34c5a94e52b8eedaaa759">QF_onContextSw()</a> is invoked with interrupts <b>disabled</b> and must also return with interrupts <b>disabled</b>.</dd></dl>
<dl class="section user"><dt>Usage</dt><dd>This callback is enabled by defining the macro <a class="el" href="qp__config_8h.html#a3e0c41a1acf5990304c36eecd99e930d">QF_ON_CONTEXT_SW</a>. <div class="fragment"><div class="line"><span class="preprocessor">#ifdef QF_ON_CONTEXT_SW</span></div>
<div class="line"><span class="comment">// NOTE: the context-switch callback is called with interrupts DISABLED</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="class_q_f.html#a70b195207ac34c5a94e52b8eedaaa759">QF_onContextSw</a>(<a class="code hl_class" href="struct_q_active.html">QActive</a> *prev, <a class="code hl_class" href="struct_q_active.html">QActive</a> *next) {</div>
<div class="line">    <span class="keywordflow">if</span> (next != (<a class="code hl_class" href="struct_q_active.html">QActive</a> *)0) {</div>
<div class="line">        MPU-&gt;CTRL = 0U; <span class="comment">// disable the MPU</span></div>
<div class="line"> </div>
<div class="line">        MPU_Region <span class="keyword">const</span> * <span class="keyword">const</span> region = (MPU_Region <span class="keyword">const</span> *)next-&gt;<a class="code hl_variable" href="struct_q_active.html#a3c8614968d3a26c5cc52a033543b007c">thread</a>;</div>
<div class="line">        MPU-&gt;RBAR = region[0].RBAR;</div>
<div class="line">        MPU-&gt;RASR = region[0].RASR;</div>
<div class="line">        MPU-&gt;RBAR = region[1].RBAR;</div>
<div class="line">        MPU-&gt;RASR = region[1].RASR;</div>
<div class="line">        MPU-&gt;RBAR = region[2].RBAR;</div>
<div class="line">        MPU-&gt;RASR = region[2].RASR;</div>
<div class="line"> </div>
<div class="line">        MPU-&gt;CTRL = MPU_CTRL_ENABLE_Msk        <span class="comment">// enable the MPU</span></div>
<div class="line">                    | MPU_CTRL_PRIVDEFENA_Msk; <span class="comment">// enable background region</span></div>
<div class="line">        __ISB();</div>
<div class="line">        __DSB();</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">// QF_ON_CONTEXT_SW</span></div>
<div class="ttc" id="aclass_q_f_html_a70b195207ac34c5a94e52b8eedaaa759"><div class="ttname"><a href="class_q_f.html#a70b195207ac34c5a94e52b8eedaaa759">QF::QF_onContextSw</a></div><div class="ttdeci">void QF_onContextSw(QActive *prev, QActive *next)</div></div>
<div class="ttc" id="astruct_q_active_html"><div class="ttname"><a href="struct_q_active.html">QActive</a></div><div class="ttdoc">Active object class (based on the QHsm implementation strategy)</div><div class="ttdef"><b>Definition</b> <a href="qp_8h_source.html#l00800">qp.h:800</a></div></div>
<div class="ttc" id="astruct_q_active_html_a3c8614968d3a26c5cc52a033543b007c"><div class="ttname"><a href="struct_q_active.html#a3c8614968d3a26c5cc52a033543b007c">QActive::thread</a></div><div class="ttdeci">QACTIVE_THREAD_TYPE thread</div><div class="ttdef"><b>Definition</b> <a href="qp_8h_source.html#l00812">qp.h:812</a></div></div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="a64871d84d994a8578a14ae57d812f09c" name="a64871d84d994a8578a14ae57d812f09c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64871d84d994a8578a14ae57d812f09c">&#9670;&#160;</a></span>QF_poolInit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_poolInit </td>
          <td>(</td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>poolSto</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_fast32_t const&#160;</td>
          <td class="paramname"><em>poolSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_fast16_t const&#160;</td>
          <td class="paramname"><em>evtSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Event pool initialization for dynamic allocation of events.</p>
<dl class="section user"><dt>Description</dt><dd>This function initializes one event pool at a time and must be called exactly once for each event pool before the pool can be used.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">poolSto</td><td>pointer to the storage for the event pool </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">poolSize</td><td>size of the storage for the pool in bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">evtSize</td><td>the block-size of the pool in bytes, which determines the maximum size of events that can be allocated from the pool.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Precondition <code>qf_dyn:200</code></dt><dd><ul>
<li>the number of event-pools initialized so far must not exceed the maximum <a class="el" href="qp__config_8h.html#ae2e7347d1d59f5a0410bbf92e9f141f3">QF_MAX_EPOOL</a> </li>
</ul>
</dd></dl>
<dl class="section user"><dt>Precondition <code>qf_dyn:201</code></dt><dd><ul>
<li>except the first event-pool 0, the event-size of the previously initialized event pool must not exceed the next event size.</li>
</ul>
</dd></dl>
<p>You might initialize many event pools by making many consecutive calls to the <a class="el" href="class_q_f.html#a64871d84d994a8578a14ae57d812f09c">QF_poolInit()</a> function. However, for the simplicity of the internal implementation, you must initialize event pools in the <b>ascending order</b> of the event size.</p>
<dl class="section remark"><dt>Remarks</dt><dd>Many RTOSes provide fixed block-size heaps, a.k.a. memory pools that can be adapted for <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> event-pools. In case the pools from the RTOS are not used, <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> provides a native memory pool implementation (<a class="el" href="struct_q_m_pool.html" title="Native QF Memory Pool.">QMPool</a>). The macro <a class="el" href="qk_8h.html#ab786be96ee118929bfb4dcd51d3acce5">QF_EPOOL_TYPE_</a> determines the type of event pool used by a particular <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> port.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The actual number of events available in the pool might be actually less than (<code>poolSize</code> / <code>evtSize</code>) due to the internal alignment of the blocks that the pool might perform. You can always check the capacity of the pool by calling <a class="el" href="class_q_f.html#ad05af4de934cec76de1646f769de50b1">QF_getPoolMin()</a>.</dd>
<dd>
The dynamic allocation of events is optional, meaning that you might choose not to use mutable events. In that case calling <a class="el" href="class_q_f.html#a64871d84d994a8578a14ae57d812f09c">QF_poolInit()</a> and using up memory for the memory blocks is unnecessary. </dd></dl>

</div>
</div>
<a id="aa220fe133dbef951443f154952fbb9a9" name="aa220fe133dbef951443f154952fbb9a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa220fe133dbef951443f154952fbb9a9">&#9670;&#160;</a></span>QF_poolGetMaxBlockSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_poolGetMaxBlockSize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Obtain the block size of any registered event pools.</p>
<dl class="section user"><dt>Description</dt><dd>Obtain the block size of any registered event pools </dd></dl>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00106">106</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
<a id="ad05af4de934cec76de1646f769de50b1" name="ad05af4de934cec76de1646f769de50b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad05af4de934cec76de1646f769de50b1">&#9670;&#160;</a></span>QF_getPoolMin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_getPoolMin </td>
          <td>(</td>
          <td class="paramtype">uint_fast8_t const&#160;</td>
          <td class="paramname"><em>poolNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Obtain the minimum of free entries of the given event pool.</p>
<dl class="section user"><dt>Description</dt><dd>This function obtains the minimum number of free blocks in the given event pool since this pool has been initialized by a call to <a class="el" href="class_q_f.html#a64871d84d994a8578a14ae57d812f09c">QF_poolInit()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">poolNum</td><td>event pool ID in the range 1..max_pool, where max_pool is the number of event pools initialized with the function <a class="el" href="class_q_f.html#a64871d84d994a8578a14ae57d812f09c">QF_poolInit()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the minimum number of unused blocks in the given event pool.</dd></dl>
<dl class="section user"><dt>Precondition <code>qf_dyn:400</code></dt><dd><ul>
<li>the poolNum must be in range </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00120">120</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
<a id="adfc250341292f20f9450877bbd88653e" name="adfc250341292f20f9450877bbd88653e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfc250341292f20f9450877bbd88653e">&#9670;&#160;</a></span>QF_newX_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_newX_ </td>
          <td>(</td>
          <td class="paramtype">uint_fast16_t const&#160;</td>
          <td class="paramname"><em>evtSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_fast16_t const&#160;</td>
          <td class="paramname"><em>margin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qp_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a> const&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Internal <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> implementation of creating new mutable (dynamic) event.</p>
<dl class="section user"><dt>Description</dt><dd>Allocates an event dynamically from one of the <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> event pools.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">evtSize</td><td>the size (in bytes) of the event to allocate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">margin</td><td>the number of un-allocated events still available in a given event pool after the allocation completes. The special value <a class="el" href="qp_8h.html#a3c1957439cb1ecff92be7b7401bf3159">QF_NO_MARGIN</a> means that this function will assert if allocation fails. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sig</td><td>the signal to be assigned to the allocated event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the newly allocated event. This pointer can be NULL only if margin != <a class="el" href="qp_8h.html#a3c1957439cb1ecff92be7b7401bf3159">QF_NO_MARGIN</a> and the event cannot be allocated with the specified margin still available in the given pool.</dd></dl>
<dl class="section user"><dt>Precondition <code>qf_dyn:300</code></dt><dd><ul>
<li>the event size must fit one of the initialized event pools</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The internal <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> function <a class="el" href="class_q_f.html#adfc250341292f20f9450877bbd88653e">QF_newX_()</a> raises an assertion when the <code>margin</code> parameter is <a class="el" href="qp_8h.html#a3c1957439cb1ecff92be7b7401bf3159">QF_NO_MARGIN</a> and allocation of the event turns out to be impossible due to event pool depletion, or incorrect (too big) size of the requested event.</dd>
<dd>
The application code should not call this function directly. The only allowed use is thorough the macros <a class="el" href="qp_8h.html#a85513d80fc73d015efff2596428e4703">Q_NEW()</a> or <a class="el" href="qp_8h.html#a9da2c27f98ee35a75caeec5710bafb8a">Q_NEW_X()</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00138">138</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
<a id="abecfdda560a1daca1a74ebf23debc5b7" name="abecfdda560a1daca1a74ebf23debc5b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abecfdda560a1daca1a74ebf23debc5b7">&#9670;&#160;</a></span>QF_gc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_gc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_evt.html">QEvt</a> const *const&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Recycle a mutable (mutable) event</p>
<dl class="section user"><dt>Description</dt><dd>This function implements a simple garbage collector for the mutable events. Only mutable events are candidates for recycling. (A mutable event is one that is allocated from an event-pool, which is determined as non-zero QEvt_getPoolId_(e)) Next, the function decrements the reference counter of the event (e-&gt;refCtr_), and recycles the event only if the counter drops to zero (meaning that no more references are outstanding for this event). The mutable event is recycled by returning it to the pool from which it was originally allocated.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">e</td><td>pointer to the event to recycle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> invokes the garbage collector at all appropriate contexts, when an event can become garbage (automatic garbage collection), so the application code should have no need to call <a class="el" href="class_q_f.html#abecfdda560a1daca1a74ebf23debc5b7">QF_gc()</a> directly. The <a class="el" href="class_q_f.html#abecfdda560a1daca1a74ebf23debc5b7">QF_gc()</a> function is exposed only for special cases when your application sends mutable events to the "raw" thread-safe queues (see <a class="el" href="struct_q_e_queue.html" title="Native QF Event Queue.">QEQueue</a>). Such queues are processed outside of <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> and the automatic garbage collection is <b>NOT</b> performed for these events. In this case you need to call <a class="el" href="class_q_f.html#abecfdda560a1daca1a74ebf23debc5b7">QF_gc()</a> explicitly.</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd><ul>
<li><a class="el" href="csc_dev.html#DVR-QP-MC4-R11_08">DVR-QP-MC4-R11_08</a> </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00218">218</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
<a id="a210f17db6dcfb7b5f78c3acb283bb516" name="a210f17db6dcfb7b5f78c3acb283bb516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a210f17db6dcfb7b5f78c3acb283bb516">&#9670;&#160;</a></span>QF_newRef_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_newRef_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_evt.html">QEvt</a> const *const&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *const&#160;</td>
          <td class="paramname"><em>evtRef</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Internal <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> implementation of creating new event reference.</p>
<dl class="section user"><dt>Description</dt><dd>Creates and returns a new reference to the current event e</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">e</td><td>pointer to the current event </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">evtRef</td><td>the event reference</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The newly created reference to the event <code>e</code></dd></dl>
<dl class="section user"><dt>Precondition <code>qf_dyn:500</code></dt><dd><ul>
<li>the event must be from a pool (mutable event)</li>
<li>the provided event reference must not be already in use</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The application code should not call this function directly. The only allowed use is thorough the macro <a class="el" href="qp_8h.html#a10162978b156ab5d2fd2e3a7aa744ac0">Q_NEW_REF()</a>. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00275">275</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
<a id="a3b994d6c7bd4ae8bbbdb420029c26071" name="a3b994d6c7bd4ae8bbbdb420029c26071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b994d6c7bd4ae8bbbdb420029c26071">&#9670;&#160;</a></span>QF_deleteRef_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QF::QF_deleteRef_ </td>
          <td>(</td>
          <td class="paramtype">void const *const&#160;</td>
          <td class="paramname"><em>evtRef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Internal <a class="el" href="class_q_f.html" title="QF Active Object Framework (QF namespace emulated as a &quot;class&quot; in C)">QF</a> implementation of deleting event reference.</p>
<dl class="section user"><dt>Description</dt><dd>Deletes an existing reference to the event e</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">evtRef</td><td>the event reference</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The application code should not call this function directly. The only allowed use is thorough the macro <a class="el" href="qp_8h.html#aaed009a86c52cf2b8d811389fabb5f23">Q_DELETE_REF()</a>.</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd><ul>
<li><a class="el" href="csc_dev.html#DVR-QP-MC4-R11_05">DVR-QP-MC4-R11_05</a> </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="qf__dyn_8c_source.html#l00311">311</a> of file <a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a>.</p>

</div>
</div>
<a id="ad7c7bde112021e07c5777bc3072ed5d9" name="ad7c7bde112021e07c5777bc3072ed5d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7c7bde112021e07c5777bc3072ed5d9">&#9670;&#160;</a></span>QF_gcFromISR()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QF_gcFromISR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_evt.html">QEvt</a> const *const&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5532479081363d70dec020a93e84783b" name="a5532479081363d70dec020a93e84783b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5532479081363d70dec020a93e84783b">&#9670;&#160;</a></span>QF_bzero_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QF_bzero_ </td>
          <td>(</td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_fast16_t const&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qf__act_8c_source.html#l00074">74</a> of file <a class="el" href="qf__act_8c_source.html">qf_act.c</a>.</p>

</div>
</div>
<a id="aa08f853b2e487e1c97ea3c4b6ec6ded2" name="aa08f853b2e487e1c97ea3c4b6ec6ded2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa08f853b2e487e1c97ea3c4b6ec6ded2">&#9670;&#160;</a></span>QF_psInit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void QF_psInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_subscr_list.html">QSubscrList</a> *const&#160;</td>
          <td class="paramname"><em>subscrSto</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qp_8h.html#ad11e2d4dff3c15b0b5f9a13a47c7fb1a">enum_t</a> const&#160;</td>
          <td class="paramname"><em>maxSignal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000008">Deprecated:</a></b></dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="qpc_8h_source.html#l00118">118</a> of file <a class="el" href="qpc_8h_source.html">qpc.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a77a1eaf2f9dc534742a4f3c9e5afa7e0" name="a77a1eaf2f9dc534742a4f3c9e5afa7e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77a1eaf2f9dc534742a4f3c9e5afa7e0">&#9670;&#160;</a></span>QF_priv_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_q_f___attr.html">QF_Attr</a> QF_priv_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qp__pkg_8h_source.html#l00071">71</a> of file <a class="el" href="qp__pkg_8h_source.html">qp_pkg.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="qp_8dox.html">qp.dox</a></li>
<li><a class="el" href="qp__pkg_8h_source.html">qp_pkg.h</a></li>
<li><a class="el" href="qp_8h_source.html">qp.h</a></li>
<li><a class="el" href="qpc_8h_source.html">qpc.h</a></li>
<li><a class="el" href="qf__act_8c_source.html">qf_act.c</a></li>
<li><a class="el" href="qf__actq_8c_source.html">qf_actq.c</a></li>
<li><a class="el" href="qf__dyn_8c_source.html">qf_dyn.c</a></li>
<li><a class="el" href="qk_8c_source.html">qk.c</a></li>
<li><a class="el" href="qv_8c_source.html">qv.c</a></li>
<li><a class="el" href="qxk_8c_source.html">qxk.c</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_q_f.html">QF</a></li>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2024 Quantum Leaps</a> &nbsp;|&nbsp; <a title="help" href="help.html">Using Online Help</a> &nbsp;|&nbsp; <b>QP/C 7.3.4</b> &nbsp;|&nbsp; Updated on Thu Mar 21 2024
<hr class="footer"/><address class="footer"><small>
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2024 Quantum Leaps</a> &nbsp;|&nbsp; <a title="help" href="help.html">Using Online Help</a> &nbsp;|&nbsp; <b>QP/C 7.3.4</b> &nbsp;|&nbsp; Updated on Thu Mar 21 2024
</small></address>
    </li>
  </ul>
</div>
</body>
</html>
