<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QP/C: QHsm Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="ql-preview.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="ql-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectlogo">
    <a href="https://www.state-machine.com" title="Quantum Leaps"><img alt="Logo" src="logo_ql.png"/></a>
  </div>
   <div id="projectname">
    QP/C
    &nbsp;<span id="projectnumber">7.3.4</span>
   </div>
   <div id="projectbrief">Real-Time Embedded Framework</div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('struct_q_hsm.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="struct_q_hsm-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">QHsm Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Hierarchical State Machine class (QHsm-style state machine implementation strategy)
 <a href="struct_q_hsm.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="qp_8h_source.html">qp.h</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for QHsm:</div>
<div class="dyncontent">
 <div class="center">
  <img src="struct_q_hsm.png" usemap="#QHsm_map" alt=""/>
  <map id="QHsm_map" name="QHsm_map">
<area href="struct_q_asm.html" title="Abstract State Machine class (state machine interface)" alt="QAsm" shape="rect" coords="0,0,87,24"/>
<area href="struct_q_hsm_dummy.html" title="Dummy HSM class for testing." alt="QHsmDummy" shape="rect" coords="0,112,87,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad55d5f2ad09429f47c99b7d765dba4c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qp_8h.html#a3fbdb33a1c6b72c456158a1beb7cd4fe">QStateHandler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_hsm.html#ad55d5f2ad09429f47c99b7d765dba4c2">QHsm_childState</a> (<a class="el" href="struct_q_hsm.html">QHsm</a> *const me, <a class="el" href="qp_8h.html#a3fbdb33a1c6b72c456158a1beb7cd4fe">QStateHandler</a> const parent)</td></tr>
<tr class="separator:ad55d5f2ad09429f47c99b7d765dba4c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a0cdb62cf0988af5d45388e75a01c8e70"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="qp_8h.html#a3fbdb33a1c6b72c456158a1beb7cd4fe">QStateHandler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_hsm.html#a0cdb62cf0988af5d45388e75a01c8e70">QHsm_state</a> (<a class="el" href="struct_q_hsm.html">QHsm</a> const *const me)</td></tr>
<tr class="separator:a0cdb62cf0988af5d45388e75a01c8e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a5e99fa12ffca574b293cc15cebfbad23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_q_asm.html">QAsm</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_hsm.html#a5e99fa12ffca574b293cc15cebfbad23">super</a></td></tr>
<tr class="separator:a5e99fa12ffca574b293cc15cebfbad23"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a2584fbf45592014c32c5c14301661856"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_hsm.html#a2584fbf45592014c32c5c14301661856">QHsm_ctor</a> (<a class="el" href="struct_q_hsm.html">QHsm</a> *const me, <a class="el" href="qp_8h.html#a3fbdb33a1c6b72c456158a1beb7cd4fe">QStateHandler</a> const initial)</td></tr>
<tr class="separator:a2584fbf45592014c32c5c14301661856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_struct_q_asm"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_struct_q_asm')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="struct_q_asm.html">QAsm</a></td></tr>
<tr class="memitem:ac3ca8719b1621c6aa2ae513efee50a3b inherit pro_methods_struct_q_asm"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_asm.html#ac3ca8719b1621c6aa2ae513efee50a3b">QAsm_ctor</a> (<a class="el" href="struct_q_asm.html">QAsm</a> *const me)</td></tr>
<tr class="separator:ac3ca8719b1621c6aa2ae513efee50a3b inherit pro_methods_struct_q_asm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a291b48e585af5e2c2baa3113746c98e0 inherit pro_methods_struct_q_asm"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qp_8h.html#aca8402343f1e6379e68bc32d471c3ff1">QState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_asm.html#a291b48e585af5e2c2baa3113746c98e0">QHsm_top</a> (<a class="el" href="struct_q_hsm.html">QHsm</a> const *const me, <a class="el" href="struct_q_evt.html">QEvt</a> const *const e)</td></tr>
<tr class="separator:a291b48e585af5e2c2baa3113746c98e0 inherit pro_methods_struct_q_asm"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a7e8d632e24097774f4f80038914cc00a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_hsm.html#a7e8d632e24097774f4f80038914cc00a">QHsm_init_</a> (<a class="el" href="struct_q_asm.html">QAsm</a> *const me, void const *const e, uint_fast8_t const qsId)</td></tr>
<tr class="separator:a7e8d632e24097774f4f80038914cc00a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354f31da01eca92bc3699caab2bfb469"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_hsm.html#a354f31da01eca92bc3699caab2bfb469">QHsm_dispatch_</a> (<a class="el" href="struct_q_asm.html">QAsm</a> *const me, <a class="el" href="struct_q_evt.html">QEvt</a> const *const e, uint_fast8_t const qsId)</td></tr>
<tr class="separator:a354f31da01eca92bc3699caab2bfb469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a721286faead3cbfd8fe635e44bbb6a1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="qp_8h.html#a3fbdb33a1c6b72c456158a1beb7cd4fe">QStateHandler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_hsm.html#a721286faead3cbfd8fe635e44bbb6a1d">QHsm_getStateHandler_</a> (<a class="el" href="struct_q_asm.html">QAsm</a> *const me)</td></tr>
<tr class="separator:a721286faead3cbfd8fe635e44bbb6a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25c7a0340e00f7f6b57bda846e4ce84"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_hsm.html#aa25c7a0340e00f7f6b57bda846e4ce84">QHsm_isIn_</a> (<a class="el" href="struct_q_asm.html">QAsm</a> *const me, <a class="el" href="qp_8h.html#a3fbdb33a1c6b72c456158a1beb7cd4fe">QStateHandler</a> const <a class="el" href="struct_q_asm.html#adafca9411ea30bd9e0c58837967cfc5f">state</a>)</td></tr>
<tr class="separator:aa25c7a0340e00f7f6b57bda846e4ce84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61d45ccbfab22d20eb4457435604fc7d"><td class="memItemLeft" align="right" valign="top">int_fast8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_hsm.html#a61d45ccbfab22d20eb4457435604fc7d">QHsm_tran_</a> (<a class="el" href="struct_q_asm.html">QAsm</a> *const me, <a class="el" href="qp_8h.html#a3fbdb33a1c6b72c456158a1beb7cd4fe">QStateHandler</a> *const path, uint_fast8_t const qsId)</td></tr>
<tr class="separator:a61d45ccbfab22d20eb4457435604fc7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_struct_q_asm"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_struct_q_asm')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="struct_q_asm.html">QAsm</a></td></tr>
<tr class="memitem:aa320043ef3dde2fba5e0cb89ce9b3fde inherit pro_attribs_struct_q_asm"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_q_asm_vtable.html">QAsmVtable</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_asm.html#aa320043ef3dde2fba5e0cb89ce9b3fde">vptr</a></td></tr>
<tr class="separator:aa320043ef3dde2fba5e0cb89ce9b3fde inherit pro_attribs_struct_q_asm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adafca9411ea30bd9e0c58837967cfc5f inherit pro_attribs_struct_q_asm"><td class="memItemLeft" align="right" valign="top">union <a class="el" href="union_q_asm_attr.html">QAsmAttr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_asm.html#adafca9411ea30bd9e0c58837967cfc5f">state</a></td></tr>
<tr class="separator:adafca9411ea30bd9e0c58837967cfc5f inherit pro_attribs_struct_q_asm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09463c93e0514cb2c82d7a1a8824e14 inherit pro_attribs_struct_q_asm"><td class="memItemLeft" align="right" valign="top">union <a class="el" href="union_q_asm_attr.html">QAsmAttr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_q_asm.html#ad09463c93e0514cb2c82d7a1a8824e14">temp</a></td></tr>
<tr class="separator:ad09463c93e0514cb2c82d7a1a8824e14 inherit pro_attribs_struct_q_asm"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Hierarchical State Machine class (QHsm-style state machine implementation strategy) </p>
<dl class="section user"><dt>Description</dt><dd><a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> represents a Hierarchical State Machine (HSM) with full support for hierarchical nesting of states, entry/exit actions, initial transitions, and transitions to history in any composite state. This class is designed for ease of manual coding of HSMs in C, but it is also supported by the QM modeling tool.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> is not intended to be instantiated directly, but rather serves as the abstract base class for derivation of state machines in the QP application.</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd><ul>
<li><a class="el" href="srs_sm.html#REQ-QP-02_00">REQ-QP-02_00</a></li>
<li><a class="el" href="srs_sm.html#REQ-QP-02_10">REQ-QP-02_10</a></li>
<li><a class="el" href="sas_core.html#ARC-QP-02_20">ARC-QP-02_20</a></li>
</ul>
</dd></dl>
<dl class="section user"><dt>Usage</dt><dd>The following example illustrates how to derive a state machine class from <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a>. Please note that the <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> member <code>super</code> is defined as the FIRST member of the derived class. <div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line">    <a class="code hl_class" href="struct_q_hsm.html">QHsm</a> <a class="code hl_variable" href="struct_q_hsm.html#a5e99fa12ffca574b293cc15cebfbad23">super</a>;  <span class="comment">// &lt;=== inherit QHsm</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">double</span> operand1;</div>
<div class="line">    <span class="keywordtype">double</span> operand2;</div>
<div class="line">    <span class="keywordtype">char</span> display[DISP_WIDTH + 1];</div>
<div class="line">    uint8_t len;</div>
<div class="line">    uint8_t opKey;</div>
<div class="line">} Calc;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> Calc_ctor(<span class="keywordtype">void</span>) {</div>
<div class="line">    <a class="code hl_function" href="struct_q_hsm.html#a2584fbf45592014c32c5c14301661856">QHsm_ctor</a>(&amp;me-&gt;super, <a class="code hl_define" href="qp_8h.html#a6531b0ab582f41275f19d28ac91d9e4f">Q_STATE_CAST</a>(&amp;Calc_initial)); <span class="comment">// ctor of the superclass</span></div>
<div class="line">    . . .</div>
<div class="line">}</div>
<div class="ttc" id="aqp_8h_html_a6531b0ab582f41275f19d28ac91d9e4f"><div class="ttname"><a href="qp_8h.html#a6531b0ab582f41275f19d28ac91d9e4f">Q_STATE_CAST</a></div><div class="ttdeci">#define Q_STATE_CAST(handler_)</div><div class="ttdef"><b>Definition</b> <a href="qp_8h_source.html#l00526">qp.h:526</a></div></div>
<div class="ttc" id="astruct_q_hsm_html"><div class="ttname"><a href="struct_q_hsm.html">QHsm</a></div><div class="ttdoc">Hierarchical State Machine class (QHsm-style state machine implementation strategy)</div><div class="ttdef"><b>Definition</b> <a href="qp_8h_source.html#l00313">qp.h:313</a></div></div>
<div class="ttc" id="astruct_q_hsm_html_a2584fbf45592014c32c5c14301661856"><div class="ttname"><a href="struct_q_hsm.html#a2584fbf45592014c32c5c14301661856">QHsm::QHsm_ctor</a></div><div class="ttdeci">void QHsm_ctor(QHsm *const me, QStateHandler const initial)</div></div>
<div class="ttc" id="astruct_q_hsm_html_a5e99fa12ffca574b293cc15cebfbad23"><div class="ttname"><a href="struct_q_hsm.html#a5e99fa12ffca574b293cc15cebfbad23">QHsm::super</a></div><div class="ttdeci">QAsm super</div><div class="ttdef"><b>Definition</b> <a href="qp_8h_source.html#l00315">qp.h:315</a></div></div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="qp_8h_source.html#l00313">313</a> of file <a class="el" href="qp_8h_source.html">qp.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2584fbf45592014c32c5c14301661856" name="a2584fbf45592014c32c5c14301661856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2584fbf45592014c32c5c14301661856">&#9670;&#160;</a></span>QHsm_ctor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QHsm::QHsm_ctor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_hsm.html">QHsm</a> *const&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qp_8h.html#a3fbdb33a1c6b72c456158a1beb7cd4fe">QStateHandler</a> const&#160;</td>
          <td class="paramname"><em>initial</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor of the <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> base class.</p>
<dl class="section user"><dt>Description</dt><dd>The constructor initializes the <a class="el" href="struct_q_asm.html#adafca9411ea30bd9e0c58837967cfc5f">QHsm::state</a>. The constructor is "protected" because it is only intended to be invoked from the subclasses of the abstract base class <a class="el" href="struct_q_asm.html" title="Abstract State Machine class (state machine interface)">QAsm</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">me</td><td>current instance pointer (see <a class="el" href="index.html#over_oop">Object Orientation</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">initial</td><td>initial pseudostate of the instantiated state machine </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7e8d632e24097774f4f80038914cc00a" name="a7e8d632e24097774f4f80038914cc00a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e8d632e24097774f4f80038914cc00a">&#9670;&#160;</a></span>QHsm_init_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QHsm::QHsm_init_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_asm.html">QAsm</a> *const&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *const&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_fast8_t const&#160;</td>
          <td class="paramname"><em>qsId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Implementation of the top-most initial transition in <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a>.</p>
<dl class="section user"><dt>Description</dt><dd>Synchronously executes the top-most initial transition in a state machine.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">me</td><td>current instance pointer (see <a class="el" href="index.html#over_oop">Object Orientation</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">e</td><td>pointer to an extra parameter (might be NULL) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">qsId</td><td>QS-id of this state machine (for <a class="el" href="struct_q_s.html" title="Software tracing instrumentation, target-resident component (QS namespace emulated as a &quot;class&quot; in C)">QS</a> local filter)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Precondition <code>qep_msm:200</code></dt><dd><ul>
<li>the virtual pointer must be initialized,</li>
<li>the top-most initial transition must be initialized,</li>
<li>the initial transition must not be taken yet.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function should be called only via the virtual table (see <a class="el" href="qp_8h.html#a2f7948a81873c2e235283c8aa0988002">QASM_INIT()</a>) and should NOT be called directly in the applications. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qep__hsm_8c_source.html#l00141">141</a> of file <a class="el" href="qep__hsm_8c_source.html">qep_hsm.c</a>.</p>

</div>
</div>
<a id="a354f31da01eca92bc3699caab2bfb469" name="a354f31da01eca92bc3699caab2bfb469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a354f31da01eca92bc3699caab2bfb469">&#9670;&#160;</a></span>QHsm_dispatch_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QHsm::QHsm_dispatch_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_asm.html">QAsm</a> *const&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_q_evt.html">QEvt</a> const *const&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_fast8_t const&#160;</td>
          <td class="paramname"><em>qsId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Implementation of dispatching events to a <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a></p>
<dl class="section user"><dt>Description</dt><dd>Synchronously dispatches an event for processing to a state machine. The processing of an event represents one run-to-completion (RTC) step.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">me</td><td>current instance pointer (see <a class="el" href="index.html#over_oop">Object Orientation</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">e</td><td>pointer to the event to be dispatched to the MSM </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">qsId</td><td>QS-id of this state machine (for <a class="el" href="struct_q_s.html" title="Software tracing instrumentation, target-resident component (QS namespace emulated as a &quot;class&quot; in C)">QS</a> local filter)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Precondition <code>qep_msm:302</code></dt><dd><ul>
<li>current state must be initialized</li>
<li>check the internal integrity (Software Self-Monitoring (SSM))</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function should be called only via the virtual table (see <a class="el" href="qp_8h.html#ad91df03146d645017c58b6bb1b7ab57b">QASM_DISPATCH()</a>) and should NOT be called directly in the applications. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qep__hsm_8c_source.html#l00266">266</a> of file <a class="el" href="qep__hsm_8c_source.html">qep_hsm.c</a>.</p>

</div>
</div>
<a id="a721286faead3cbfd8fe635e44bbb6a1d" name="a721286faead3cbfd8fe635e44bbb6a1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a721286faead3cbfd8fe635e44bbb6a1d">&#9670;&#160;</a></span>QHsm_getStateHandler_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QHsm::QHsm_getStateHandler_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_asm.html">QAsm</a> *const&#160;</td>
          <td class="paramname"><em>me</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Implementation of getting the state handler in a <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> subclass</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">me</td><td>current instance pointer (see <a class="el" href="index.html#over_oop">Object Orientation</a>)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is only called internally via the virtual table </dd></dl>

<p class="definition">Definition at line <a class="el" href="qep__hsm_8c_source.html#l00471">471</a> of file <a class="el" href="qep__hsm_8c_source.html">qep_hsm.c</a>.</p>

</div>
</div>
<a id="aa25c7a0340e00f7f6b57bda846e4ce84" name="aa25c7a0340e00f7f6b57bda846e4ce84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25c7a0340e00f7f6b57bda846e4ce84">&#9670;&#160;</a></span>QHsm_isIn_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QHsm::QHsm_isIn_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_asm.html">QAsm</a> *const&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qp_8h.html#a3fbdb33a1c6b72c456158a1beb7cd4fe">QStateHandler</a> const&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section user"><dt>Description</dt><dd>Check if a given state is part of the current active state configuration in <a class="el" href="struct_q_hsm.html" title="Hierarchical State Machine class (QHsm-style state machine implementation strategy)">QHsm</a> subclasses. Please note that for a HSM, to "be in a state" means also to be in a superstate of of the state.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">me</td><td>current instance pointer (see <a class="el" href="index.html#over_oop">Object Orientation</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>pointer to the state-handler function to be tested</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>'true' if the HSM "is in" the <code>state</code> and 'false' otherwise</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function should be called only via the virtual table (see <a class="el" href="qp_8h.html#a9f21f71882bd92ecb905be8d828be2d5">QASM_IS_IN()</a>) and should NOT be called directly in the applications.</dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>This function should be only called only when the state machine is in a "stable state configuration".</dd></dl>
<dl class="section user"><dt>Precondition <code>qep_hsm:602</code></dt><dd><ul>
<li>internal integrity check (Software Self-Monitoring (SSM))</li>
</ul>
</dd></dl>
<dl class="section user"><dt>Traceability</dt><dd><ul>
<li><a class="el" href="srs_sm.html#REQ-QP-02_25">REQ-QP-02_25</a> </li>
</ul>
</dd></dl>

<p class="definition">Definition at line <a class="el" href="qep__hsm_8c_source.html#l00478">478</a> of file <a class="el" href="qep__hsm_8c_source.html">qep_hsm.c</a>.</p>

</div>
</div>
<a id="a0cdb62cf0988af5d45388e75a01c8e70" name="a0cdb62cf0988af5d45388e75a01c8e70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cdb62cf0988af5d45388e75a01c8e70">&#9670;&#160;</a></span>QHsm_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QHsm::QHsm_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_hsm.html">QHsm</a> const *const&#160;</td>
          <td class="paramname"><em>me</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Obtain the current active state from a HSM (read only)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">me</td><td>current instance pointer (see <a class="el" href="index.html#over_oop">Object Orientation</a>)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the current active state-handler</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is used for state history (deep history) in the auto-generated code by the QM modeling tool. </dd></dl>

<p class="definition">Definition at line <a class="el" href="qp_8h_source.html#l00351">351</a> of file <a class="el" href="qp_8h_source.html">qp.h</a>.</p>

</div>
</div>
<a id="ad55d5f2ad09429f47c99b7d765dba4c2" name="ad55d5f2ad09429f47c99b7d765dba4c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad55d5f2ad09429f47c99b7d765dba4c2">&#9670;&#160;</a></span>QHsm_childState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QHsm::QHsm_childState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_hsm.html">QHsm</a> *const&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qp_8h.html#a3fbdb33a1c6b72c456158a1beb7cd4fe">QStateHandler</a> const&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obtain the current active child state of a given parent in <a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a></p>
<dl class="section user"><dt>Description</dt><dd>Finds the child state of the given <code>parent</code>, such that this child state is an ancestor of the currently active state. The main purpose of this function is to support **shallow history*transitions in state machines derived from <a class="el" href="struct_q_msm.html" title="Hierarchical State Machine class (QMsm-style state machine implementation strategy)">QMsm</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">me</td><td>current instance pointer (see <a class="el" href="index.html#over_oop">Object Orientation</a>) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>pointer to the state-handler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the child of a given <code>parent</code> state-handler, which is an ancestor of the currently active state. For the corner case when the currently active state is the given <code>parent</code> state, function returns the <code>parent</code> state.</dd></dl>
<dl class="section user"><dt>Postcondition <code>qep_msm:890</code></dt><dd><ul>
<li>the child must be found</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is used in QM for auto-generating code for state history (shallow history) </dd></dl>

<p class="definition">Definition at line <a class="el" href="qep__hsm_8c_source.html#l00518">518</a> of file <a class="el" href="qep__hsm_8c_source.html">qep_hsm.c</a>.</p>

</div>
</div>
<a id="a61d45ccbfab22d20eb4457435604fc7d" name="a61d45ccbfab22d20eb4457435604fc7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61d45ccbfab22d20eb4457435604fc7d">&#9670;&#160;</a></span>QHsm_tran_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int_fast8_t QHsm_tran_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_q_asm.html">QAsm</a> *const&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="qp_8h.html#a3fbdb33a1c6b72c456158a1beb7cd4fe">QStateHandler</a> *const&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint_fast8_t const&#160;</td>
          <td class="paramname"><em>qsId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qep__hsm_8c_source.html#l00553">553</a> of file <a class="el" href="qep__hsm_8c_source.html">qep_hsm.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5e99fa12ffca574b293cc15cebfbad23" name="a5e99fa12ffca574b293cc15cebfbad23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e99fa12ffca574b293cc15cebfbad23">&#9670;&#160;</a></span>super</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_q_asm.html">QAsm</a> QHsm::super</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="qp_8h_source.html#l00315">315</a> of file <a class="el" href="qp_8h_source.html">qp.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="qp_8h_source.html">qp.h</a></li>
<li><a class="el" href="qep__hsm_8c_source.html">qep_hsm.c</a></li>
<li><a class="el" href="qp_8dox.html">qp.dox</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="struct_q_hsm.html">QHsm</a></li>
    <li class="footer">
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2024 Quantum Leaps</a> &nbsp;|&nbsp; <a title="help" href="help.html">Using Online Help</a> &nbsp;|&nbsp; <b>QP/C 7.3.4</b> &nbsp;|&nbsp; Updated on Thu Mar 21 2024
<hr class="footer"/><address class="footer"><small>
<a title="Quantum Leaps: Modern Embedded Software" href="https://www.state-machine.com">&copy; 2005-2024 Quantum Leaps</a> &nbsp;|&nbsp; <a title="help" href="help.html">Using Online Help</a> &nbsp;|&nbsp; <b>QP/C 7.3.4</b> &nbsp;|&nbsp; Updated on Thu Mar 21 2024
</small></address>
    </li>
  </ul>
</div>
</body>
</html>
