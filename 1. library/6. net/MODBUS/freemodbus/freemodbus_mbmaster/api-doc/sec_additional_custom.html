<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EE MODBUS MASTER: Adding custom functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="dox.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EE MODBUS MASTER
   &#160;<span id="projectnumber">v2022 (2022-12-23)</span>
   </div>
   <div id="projectbrief">portable C/C++ MODBUS stack</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('sec_additional_custom.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Adding custom functions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Adding a custom functions to the MODBUS MASTER stack if very easy. The recommend layout is to create a new source file, e.h. <code>mbmfunccustom1.c</code> within the directory <code>mbmaster/functions</code>. Or example function code will use the function code <code>0x32</code> and will allow us to transmit up to 100 byte of application data. The format of the request is shown below:</p>
<table class="doxtable">
<tr>
<td>Function code </td><td>Length </td><td>Payload  </td></tr>
<tr>
<td><code>0x32</code> </td><td><code>Length (1Byte)</code> </td><td><code>Payload (100Bytes max)</code>  </td></tr>
</table>
<p>A slave device which will receive this request will either acknowledge the data transfer using an ACK (<code>0x00</code>) or will indicate an failure NACK (<code>0xFF</code>).</p>
<table class="doxtable">
<tr>
<td>Function code </td><td>Status  </td></tr>
<tr>
<td><code>0x32</code> </td><td><code>ACK(0x00) or NACK(0xFF)</code>  </td></tr>
</table>
<h1><a class="anchor" id="Implementation"></a>
Implementation</h1>
<p>The implementation of the custom function is shown below. In the first block the input arguments are checked and then serialized into the MODBUS PDU. The second block deals with the responce and extracts the state returned by the client.</p>
<div class="fragment"><div class="line"><span class="comment">/* ----------------------- Defines ------------------------------------------*/</span></div>
<div class="line"><span class="preprocessor">#define MBM_FUNC_CUSTOM                             ( 0x32 )</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* ----------------------- Type definitions ---------------------------------*/</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* ----------------------- Static variables ---------------------------------*/</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* ----------------------- Static functions ---------------------------------*/</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* ----------------------- Start implementation (Polling functions)----------*/</span></div>
<div class="line"><span class="keywordtype">void</span></div>
<div class="line">vMBMCustom1Polled( <a class="code" href="group__mbm.html#ga39ff7ecabacfd2155328f82045368d74">xMBMHandle</a> xHdl, <a class="code" href="group__mb__port.html#ga4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> ucSlaveAddress, <a class="code" href="group__mb__port.html#ga122c4acf389c050379f00341fdcd5812">UBYTE</a> ubLength, <a class="code" href="group__mb__port.html#ga122c4acf389c050379f00341fdcd5812">UBYTE</a> * pubPayload, <a class="code" href="group__mb__port.html#ga122c4acf389c050379f00341fdcd5812">UBYTE</a> * pubState,</div>
<div class="line">                   <span class="comment">/*@out@ */</span> <a class="code" href="group__mbm.html#gaca22d8b649564e798570df743ed2b044">eMBMQueryState</a> * peState,</div>
<div class="line">                   <span class="comment">/*@out@ */</span> <a class="code" href="group__mb__cmn.html#ga9e7fce8c431cb0e521c67f7f36dd823d">eMBErrorCode</a> * peStatus )</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structxMBMInternalHandle.html">xMBMInternalHandle</a> *pxIntHdl = ( <a class="code" href="structxMBMInternalHandle.html">xMBMInternalHandle</a> * ) xHdl;</div>
<div class="line">    <a class="code" href="group__mb__port.html#ga122c4acf389c050379f00341fdcd5812">UBYTE</a>           ubIdx;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( bMBMIsHdlValid( pxIntHdl ) &amp;&amp; ( peState != NULL ) &amp;&amp; ( peStatus != NULL ) )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">switch</span> ( *peState )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">/* In this state we prepare the frame and send it. */</span></div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a1b7983bec439e0c938c9fcf4884c4cf7">MBM_STATE_NONE</a>:</div>
<div class="line">            <span class="comment">/* ----------------------- TO BE CUSTOMIZED BY USER ---------------------------------- */</span>            </div>
<div class="line">            <span class="keywordflow">if</span>( ( NULL != pubPayload ) &amp;&amp; ( ubLength &gt; 0 ) &amp;&amp; ( ubLength &lt;= 100 ) )</div>
<div class="line">            {</div>
<div class="line">                pxIntHdl-&gt;<a class="code" href="structxMBMInternalHandle.html#a38a818147bb780970144d6751ed7a40d">usFrameMBPDULength</a> = 0;</div>
<div class="line">                pxIntHdl-&gt;<a class="code" href="structxMBMInternalHandle.html#a23ee0923da8ae594273099b0fc465f0d">pubFrameMBPDUBuffer</a>[pxIntHdl-&gt;<a class="code" href="structxMBMInternalHandle.html#a38a818147bb780970144d6751ed7a40d">usFrameMBPDULength</a>++] = MBM_FUNC_CUSTOM;</div>
<div class="line">                pxIntHdl-&gt;<a class="code" href="structxMBMInternalHandle.html#a23ee0923da8ae594273099b0fc465f0d">pubFrameMBPDUBuffer</a>[pxIntHdl-&gt;<a class="code" href="structxMBMInternalHandle.html#a38a818147bb780970144d6751ed7a40d">usFrameMBPDULength</a>++] = ubLength;</div>
<div class="line">                <span class="keywordflow">for</span>( ubIdx = 0; ubIdx &lt; ubLength; ubIdx++ )</div>
<div class="line">                {</div>
<div class="line">                    pxIntHdl-&gt;<a class="code" href="structxMBMInternalHandle.html#a23ee0923da8ae594273099b0fc465f0d">pubFrameMBPDUBuffer</a>[pxIntHdl-&gt;<a class="code" href="structxMBMInternalHandle.html#a38a818147bb780970144d6751ed7a40d">usFrameMBPDULength</a>++] = *pubPayload++;</div>
<div class="line">                }</div>
<div class="line">                <span class="comment">/* Frame is assembled. Now send it. */</span></div>
<div class="line">                *peState = <a class="code" href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a3704db87ad004a0c23f0db8d5bd5558d">MBM_STATE_SEND</a>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                *peStatus = <a class="code" href="group__mb__cmn.html#gga9e7fce8c431cb0e521c67f7f36dd823dafa57cdb3f85e8ab4baf160579104d624">MB_EINVAL</a>;</div>
<div class="line">                *peState = <a class="code" href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a5c4c54c89d5d940ed32ee8fa0d55d280">MBM_STATE_DONE</a>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">            <span class="comment">/* ----------------------- TO BE CUSTOMIZED BY USER ---------------------------------- */</span></div>
<div class="line"> </div>
<div class="line">            <span class="comment">/* These states are handled by the common state machine. */</span></div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a3704db87ad004a0c23f0db8d5bd5558d">MBM_STATE_SEND</a>:</div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044ad65daf91bac311102dbf613549b21b10">MBM_STATE_WAITING</a>:</div>
<div class="line">            vMBMMasterTransactionPolled( pxIntHdl, ucSlaveAddress, peState, peStatus );</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="comment">/* We need to disassemble the response here. */</span></div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a4c4bcbc459b13d2b59d224225ff81095">MBM_STATE_DISASSEMBLE</a>:</div>
<div class="line">            *peState = <a class="code" href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a5c4c54c89d5d940ed32ee8fa0d55d280">MBM_STATE_DONE</a>;</div>
<div class="line">            <span class="comment">/* ----------------------- TO BE CUSTOMIZED BY USER ---------------------------------- */</span>                        </div>
<div class="line">            <span class="keywordflow">if</span>( MBM_FUNC_CUSTOM == pxIntHdl-&gt;<a class="code" href="structxMBMInternalHandle.html#a23ee0923da8ae594273099b0fc465f0d">pubFrameMBPDUBuffer</a>[MB_PDU_FUNC_OFF] )</div>
<div class="line">            {</div>
<div class="line">                *pubState = pxIntHdl-&gt;<a class="code" href="structxMBMInternalHandle.html#a23ee0923da8ae594273099b0fc465f0d">pubFrameMBPDUBuffer</a>[MB_PDU_FUNC_OFF];</div>
<div class="line">                *peStatus = <a class="code" href="group__mb__cmn.html#gga9e7fce8c431cb0e521c67f7f36dd823dabf4c1fb8c72eafc08be972225613fe2b">MB_ENOERR</a>;</div>
<div class="line">            }</div>
<div class="line">            <span class="comment">/* Check for exception frame. */</span></div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( MB_PDU_EX_RESP_SIZE == pxIntHdl-&gt;<a class="code" href="structxMBMInternalHandle.html#a38a818147bb780970144d6751ed7a40d">usFrameMBPDULength</a> ) &amp;&amp;</div>
<div class="line">                     MB_PDU_FUNC_ISEXCEPTION_FOR( pxIntHdl-&gt;<a class="code" href="structxMBMInternalHandle.html#a23ee0923da8ae594273099b0fc465f0d">pubFrameMBPDUBuffer</a>[MB_PDU_FUNC_OFF], MBM_FUNC_CUSTOM ) )</div>
<div class="line">            {</div>
<div class="line">                *peStatus = <a class="code" href="group__mb__cmn.html#ga1dd4b41469b7ce28b85eebe4d7721cfd">eMBExceptionToErrorcode</a>( pxIntHdl-&gt;<a class="code" href="structxMBMInternalHandle.html#a23ee0923da8ae594273099b0fc465f0d">pubFrameMBPDUBuffer</a>[MB_PDU_EX_CODE_OFF] );</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                *peStatus = <a class="code" href="group__mb__cmn.html#gga9e7fce8c431cb0e521c67f7f36dd823daf6eed4a1c490af14b7467be1e6e2fe67">MB_EIO</a>;</div>
<div class="line">            }</div>
<div class="line">            <span class="comment">/* ----------------------- TO BE CUSTOMIZED BY USER ---------------------------------- */</span>                        </div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <a class="code" href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044aefae878247af9f2db939c6c924e34bb9">MBM_STATE_ERROR</a>:</div>
<div class="line">            <span class="comment">/* No cleanup required. */</span></div>
<div class="line">            *peState = <a class="code" href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a5c4c54c89d5d940ed32ee8fa0d55d280">MBM_STATE_DONE</a>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            *peState = <a class="code" href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a5c4c54c89d5d940ed32ee8fa0d55d280">MBM_STATE_DONE</a>;</div>
<div class="line">            *peStatus = <a class="code" href="group__mb__cmn.html#gga9e7fce8c431cb0e521c67f7f36dd823daf0e64a209ac1a01935167c6986338a6f">MB_EILLSTATE</a>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span>( NULL != peState )</div>
<div class="line">        {</div>
<div class="line">            *peState = <a class="code" href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a5c4c54c89d5d940ed32ee8fa0d55d280">MBM_STATE_DONE</a>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span>( NULL != peStatus )</div>
<div class="line">        {</div>
<div class="line">            *peStatus = <a class="code" href="group__mb__cmn.html#gga9e7fce8c431cb0e521c67f7f36dd823dafa57cdb3f85e8ab4baf160579104d624">MB_EINVAL</a>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* ----------------------- Start implementation (Blocking functions) --------*/</span></div>
<div class="line"><a class="code" href="group__mb__cmn.html#ga9e7fce8c431cb0e521c67f7f36dd823d">eMBErrorCode</a></div>
<div class="line">eMBMCustom1Polled( <a class="code" href="group__mbm.html#ga39ff7ecabacfd2155328f82045368d74">xMBMHandle</a> xHdl, <a class="code" href="group__mb__port.html#ga4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> ucSlaveAddress, <a class="code" href="group__mb__port.html#ga122c4acf389c050379f00341fdcd5812">UBYTE</a> ubLength, <a class="code" href="group__mb__port.html#ga122c4acf389c050379f00341fdcd5812">UBYTE</a> * pubPayload, <a class="code" href="group__mb__port.html#ga122c4acf389c050379f00341fdcd5812">UBYTE</a> * pubState )</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__mb__cmn.html#ga9e7fce8c431cb0e521c67f7f36dd823d">eMBErrorCode</a>    eStatus;</div>
<div class="line">    <a class="code" href="group__mbm.html#gaca22d8b649564e798570df743ed2b044">eMBMQueryState</a>  eState = <a class="code" href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a1b7983bec439e0c938c9fcf4884c4cf7">MBM_STATE_NONE</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">do</span></div>
<div class="line">    {</div>
<div class="line">        vMBMCustom1Polled( xHdl, ucSlaveAddress, ubLength, pubPayload, pubState, &amp;eState, &amp;eStatus );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">while</span>( eState != <a class="code" href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a5c4c54c89d5d940ed32ee8fa0d55d280">MBM_STATE_DONE</a> );</div>
<div class="line">    <span class="keywordflow">return</span> eStatus;</div>
<div class="line">}</div>
<div class="ttc" id="agroup__mb__cmn_html_ga1dd4b41469b7ce28b85eebe4d7721cfd"><div class="ttname"><a href="group__mb__cmn.html#ga1dd4b41469b7ce28b85eebe4d7721cfd">eMBExceptionToErrorcode</a></div><div class="ttdeci">eMBErrorCode eMBExceptionToErrorcode(UBYTE eMBPDUException)</div><div class="ttdoc">Map a MODBUS exception code to an application error code.</div><div class="ttdef"><b>Definition:</b> mbutils.c:282</div></div>
<div class="ttc" id="agroup__mb__cmn_html_ga9e7fce8c431cb0e521c67f7f36dd823d"><div class="ttname"><a href="group__mb__cmn.html#ga9e7fce8c431cb0e521c67f7f36dd823d">eMBErrorCode</a></div><div class="ttdeci">eMBErrorCode</div><div class="ttdoc">Error code reported by the protocol stack.</div><div class="ttdef"><b>Definition:</b> mbtypes.h:41</div></div>
<div class="ttc" id="agroup__mb__cmn_html_gga9e7fce8c431cb0e521c67f7f36dd823dabf4c1fb8c72eafc08be972225613fe2b"><div class="ttname"><a href="group__mb__cmn.html#gga9e7fce8c431cb0e521c67f7f36dd823dabf4c1fb8c72eafc08be972225613fe2b">MB_ENOERR</a></div><div class="ttdeci">@ MB_ENOERR</div><div class="ttdef"><b>Definition:</b> mbtypes.h:42</div></div>
<div class="ttc" id="agroup__mb__cmn_html_gga9e7fce8c431cb0e521c67f7f36dd823daf0e64a209ac1a01935167c6986338a6f"><div class="ttname"><a href="group__mb__cmn.html#gga9e7fce8c431cb0e521c67f7f36dd823daf0e64a209ac1a01935167c6986338a6f">MB_EILLSTATE</a></div><div class="ttdeci">@ MB_EILLSTATE</div><div class="ttdef"><b>Definition:</b> mbtypes.h:48</div></div>
<div class="ttc" id="agroup__mb__cmn_html_gga9e7fce8c431cb0e521c67f7f36dd823daf6eed4a1c490af14b7467be1e6e2fe67"><div class="ttname"><a href="group__mb__cmn.html#gga9e7fce8c431cb0e521c67f7f36dd823daf6eed4a1c490af14b7467be1e6e2fe67">MB_EIO</a></div><div class="ttdeci">@ MB_EIO</div><div class="ttdef"><b>Definition:</b> mbtypes.h:47</div></div>
<div class="ttc" id="agroup__mb__cmn_html_gga9e7fce8c431cb0e521c67f7f36dd823dafa57cdb3f85e8ab4baf160579104d624"><div class="ttname"><a href="group__mb__cmn.html#gga9e7fce8c431cb0e521c67f7f36dd823dafa57cdb3f85e8ab4baf160579104d624">MB_EINVAL</a></div><div class="ttdeci">@ MB_EINVAL</div><div class="ttdef"><b>Definition:</b> mbtypes.h:44</div></div>
<div class="ttc" id="agroup__mb__port_html_ga122c4acf389c050379f00341fdcd5812"><div class="ttname"><a href="group__mb__port.html#ga122c4acf389c050379f00341fdcd5812">UBYTE</a></div><div class="ttdeci">unsigned char UBYTE</div><div class="ttdoc">An unsigned byte holding value from 0 to 255.</div><div class="ttdef"><b>Definition:</b> mbport.h:97</div></div>
<div class="ttc" id="agroup__mb__port_html_ga4f4bb67531a9bf6f0b9c6ad76aeba587"><div class="ttname"><a href="group__mb__port.html#ga4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a></div><div class="ttdeci">unsigned char UCHAR</div><div class="ttdoc">An unsigned character holding value from 0 to 255.</div><div class="ttdef"><b>Definition:</b> mbport.h:102</div></div>
<div class="ttc" id="agroup__mbm_html_ga39ff7ecabacfd2155328f82045368d74"><div class="ttname"><a href="group__mbm.html#ga39ff7ecabacfd2155328f82045368d74">xMBMHandle</a></div><div class="ttdeci">void * xMBMHandle</div><div class="ttdoc">A handle to a MODBUS master instance.</div><div class="ttdef"><b>Definition:</b> mbm.h:41</div></div>
<div class="ttc" id="agroup__mbm_html_gaca22d8b649564e798570df743ed2b044"><div class="ttname"><a href="group__mbm.html#gaca22d8b649564e798570df743ed2b044">eMBMQueryState</a></div><div class="ttdeci">eMBMQueryState</div><div class="ttdoc">States used by the MODBUS stack internally.</div><div class="ttdef"><b>Definition:</b> mbm.h:49</div></div>
<div class="ttc" id="agroup__mbm_html_ggaca22d8b649564e798570df743ed2b044a1b7983bec439e0c938c9fcf4884c4cf7"><div class="ttname"><a href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a1b7983bec439e0c938c9fcf4884c4cf7">MBM_STATE_NONE</a></div><div class="ttdeci">@ MBM_STATE_NONE</div><div class="ttdef"><b>Definition:</b> mbm.h:50</div></div>
<div class="ttc" id="agroup__mbm_html_ggaca22d8b649564e798570df743ed2b044a3704db87ad004a0c23f0db8d5bd5558d"><div class="ttname"><a href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a3704db87ad004a0c23f0db8d5bd5558d">MBM_STATE_SEND</a></div><div class="ttdeci">@ MBM_STATE_SEND</div><div class="ttdef"><b>Definition:</b> mbm.h:51</div></div>
<div class="ttc" id="agroup__mbm_html_ggaca22d8b649564e798570df743ed2b044a4c4bcbc459b13d2b59d224225ff81095"><div class="ttname"><a href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a4c4bcbc459b13d2b59d224225ff81095">MBM_STATE_DISASSEMBLE</a></div><div class="ttdeci">@ MBM_STATE_DISASSEMBLE</div><div class="ttdef"><b>Definition:</b> mbm.h:53</div></div>
<div class="ttc" id="agroup__mbm_html_ggaca22d8b649564e798570df743ed2b044a5c4c54c89d5d940ed32ee8fa0d55d280"><div class="ttname"><a href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044a5c4c54c89d5d940ed32ee8fa0d55d280">MBM_STATE_DONE</a></div><div class="ttdeci">@ MBM_STATE_DONE</div><div class="ttdef"><b>Definition:</b> mbm.h:55</div></div>
<div class="ttc" id="agroup__mbm_html_ggaca22d8b649564e798570df743ed2b044ad65daf91bac311102dbf613549b21b10"><div class="ttname"><a href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044ad65daf91bac311102dbf613549b21b10">MBM_STATE_WAITING</a></div><div class="ttdeci">@ MBM_STATE_WAITING</div><div class="ttdef"><b>Definition:</b> mbm.h:52</div></div>
<div class="ttc" id="agroup__mbm_html_ggaca22d8b649564e798570df743ed2b044aefae878247af9f2db939c6c924e34bb9"><div class="ttname"><a href="group__mbm.html#ggaca22d8b649564e798570df743ed2b044aefae878247af9f2db939c6c924e34bb9">MBM_STATE_ERROR</a></div><div class="ttdeci">@ MBM_STATE_ERROR</div><div class="ttdef"><b>Definition:</b> mbm.h:54</div></div>
<div class="ttc" id="astructxMBMInternalHandle_html"><div class="ttname"><a href="structxMBMInternalHandle.html">xMBMInternalHandle</a></div><div class="ttdoc">Every MODBUS master instance has a handle which contains pointers to functions and a buffer for assem...</div><div class="ttdef"><b>Definition:</b> mbmi.h:39</div></div>
<div class="ttc" id="astructxMBMInternalHandle_html_a23ee0923da8ae594273099b0fc465f0d"><div class="ttname"><a href="structxMBMInternalHandle.html#a23ee0923da8ae594273099b0fc465f0d">xMBMInternalHandle::pubFrameMBPDUBuffer</a></div><div class="ttdeci">UBYTE * pubFrameMBPDUBuffer</div><div class="ttdef"><b>Definition:</b> mbmi.h:47</div></div>
<div class="ttc" id="astructxMBMInternalHandle_html_a38a818147bb780970144d6751ed7a40d"><div class="ttname"><a href="structxMBMInternalHandle.html#a38a818147bb780970144d6751ed7a40d">xMBMInternalHandle::usFrameMBPDULength</a></div><div class="ttdeci">USHORT usFrameMBPDULength</div><div class="ttdef"><b>Definition:</b> mbmi.h:46</div></div>
</div><!-- fragment --><h1><a class="anchor" id="Header"></a>
files</h1>
<p>As a final step you should create a custom header file for the functions. You can either add them to the file <code>mbmaster/include/mbm.h</code> or to an application specific header file. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
